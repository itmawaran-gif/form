<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>MAWARAN CO</title>

<style>
body{
  font-family:tahoma;
  background:linear-gradient(135deg,#e9eef3,#f7f9fc);
  margin:0;
}
.container{
  max-width:420px;
  margin:auto;
  background:#fff;
  padding:16px;
  border-radius:16px;
  box-shadow:0 10px 25px rgba(0,0,0,.12);
}
h2{text-align:center;margin:10px 0}

label{display:block;margin-top:10px;font-weight:bold}

input,select,textarea,button{
  width:100%;
  padding:10px;
  margin-top:4px;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:15px;
}
input.error,select.error,textarea.error{
  border-color:red;
  background:#ffecec;
}

button{
  background:#0a7cff;
  color:#fff;
  border:0;
  margin-top:16px;
}

#msg{text-align:center;margin-top:10px;font-weight:bold}
.hidden{display:none}

/* top info */
#topInfo{
  background:#f0f4ff;
  padding:10px;
  border-radius:10px;
  font-size:14px;
}

/* Ù…Ù†Ø¯ÙˆØ¨ + Ø²Ø± Ù„ØºØ© */
.repRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
}

.langBtn{
  background:#eee;
  border:0;
  border-radius:50%;
  width:36px;
  height:36px;
  font-size:18px;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="container">

<!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="login">
  <h2 data-t="login">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>

  <label data-t="repName">Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ *</label>
  <input id="repName">

  <label data-t="city">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© *</label>
  <input id="city">

  <button onclick="saveLogin()" data-t="enter">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Ø§Ù„ÙÙˆØ±Ù… -->
<div id="formBox" class="hidden">

  <div id="topInfo">
    <div class="repRow">
      <div>
        <span data-t="rep">Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨:</span>
        <b id="repShow"></b>
      </div>
      <button class="langBtn" onclick="toggleLang()">ğŸŒ</button>
    </div>

    <div style="margin-top:6px">
      <span data-t="city">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</span>
      <b id="cityShow"></b>
    </div>
  </div>

  <h2>MAWARAN CO</h2>

  <label data-t="useOil">Ù‡Ù„ ÙŠÙ…ØªÙ„Ùƒ Ø²ÙŠØª Ø±ÙŠÙ…Ø§ÙƒØ³ *</label>
  <select id="useOil">
    <option value=""></option>
    <option data-t="yes">Ù†Ø¹Ù…</option>
    <option data-t="no">Ù„Ø§</option>
  </select>

  <label data-t="tradeName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ *</label>
  <input id="tradeName">

  <label data-t="ownerName">Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ù„Ùƒ *</label>
  <input id="ownerName">

  <label data-t="address">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† *</label>
  <input id="address">

  <label data-t="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</label>
  <input id="phone">

  <label data-t="category">Ø§Ù„ÙØ¦Ø© *</label>
  <select id="category">
    <option value=""></option>
    <option data-t="garage">ÙƒØ±Ø§Ø¬</option>
    <option data-t="wholesale">Ø¬Ù…Ù„Ø©</option>
    <option data-t="retail">Ù…ÙØ±Ø¯</option>
  </select>

  <label data-t="note">Ù…Ù„Ø§Ø­Ø¸Ø©</label>
  <textarea id="note"></textarea>

  <label data-t="rate">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… *</label>
  <select id="rate">
    <option value=""></option>
    <option value="1">â­</option>
    <option value="2">â­â­</option>
    <option value="3">â­â­â­</option>
    <option value="4">â­â­â­â­</option>
    <option value="5">â­â­â­â­â­</option>
  </select>

  <label data-t="visit">ÙƒÙ„ ÙƒÙ… ÙŠÙˆÙ… Ø²ÙŠØ§Ø±Ø© *</label>
  <input id="visitDays">

  <label data-t="oilType">Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØª</label>
  <input id="oilType">

  <label data-t="oilGrade">Ø¯Ø±Ø¬Ø© Ø§Ù„Ø²ÙŠØª</label>
  <input id="oilGrade">

  <label data-t="oilDistance">Ø§Ù„Ù…Ø³Ø§ÙØ©</label>
  <select id="oilDistance">
    <option value=""></option>
    <option>3 ÙƒÙ…</option>
    <option>5 ÙƒÙ…</option>
    <option>10 ÙƒÙ…</option>
  </select>

  <label data-t="oilPrice">Ø³Ø¹Ø± Ø§Ù„Ù„ØªØ±</label>
  <input id="oilPrice">

  <button onclick="send()" data-t="send">Ø¥Ø±Ø³Ø§Ù„</button>
  <div id="msg"></div>
</div>

</div>

<script>
const URL="https://script.google.com/macros/s/AKfycbwbQkYePx5IvYev_Crtcv-6kXV4sTdGz6VhbSWsbNey7W4Vs3z4Y7kf8xAnH4D3KqXulQ/exec";

/* ===== Ø§Ù„Ù„ØºØ§Øª ===== */
const langData={
  ar:{
    login:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",repName:"Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ *",city:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© *",
    enter:"Ø¯Ø®ÙˆÙ„",rep:"Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨:",useOil:"Ù‡Ù„ ÙŠÙ…ØªÙ„Ùƒ Ø²ÙŠØª Ø±ÙŠÙ…Ø§ÙƒØ³ *",
    yes:"Ù†Ø¹Ù…",no:"Ù„Ø§",tradeName:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ *",
    ownerName:"Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ù„Ùƒ *",address:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù† *",
    phone:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *",category:"Ø§Ù„ÙØ¦Ø© *",
    garage:"ÙƒØ±Ø§Ø¬",wholesale:"Ø¬Ù…Ù„Ø©",retail:"Ù…ÙØ±Ø¯",
    note:"Ù…Ù„Ø§Ø­Ø¸Ø©",rate:"Ø§Ù„ØªÙ‚ÙŠÙŠÙ… *",visit:"ÙƒÙ„ ÙƒÙ… ÙŠÙˆÙ… Ø²ÙŠØ§Ø±Ø© *",
    oilType:"Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØª",oilGrade:"Ø¯Ø±Ø¬Ø© Ø§Ù„Ø²ÙŠØª",
    oilDistance:"Ø§Ù„Ù…Ø³Ø§ÙØ©",oilPrice:"Ø³Ø¹Ø± Ø§Ù„Ù„ØªØ±",send:"Ø¥Ø±Ø³Ø§Ù„"
  },
  ku:{
    login:"Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±",repName:"Ù†Ø§ÙˆÛŒ Ù†ÛØ±Ø¯Ø±Ø§Ùˆ *",city:"Ø´Ø§Ø± *",
    enter:"Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±",rep:"Ù†ÛØ±Ø¯Ø±Ø§Ùˆ:",
    useOil:"Ø¦Ø§ÛŒØ§ Ú•Û†Ù†ÛŒ RYMAX Ù‡Û•ÛŒÛ• *",
    yes:"Ø¨Û•ÚµÛ",no:"Ù†Û•Ø®ÛØ±",tradeName:"Ù†Ø§ÙˆÛŒ Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ *",
    ownerName:"Ù†Ø§ÙˆÛŒ Ø®Ø§ÙˆÛ•Ù† *",address:"Ù†Ø§ÙˆÙ†ÛŒØ´Ø§Ù† *",
    phone:"Ú˜Ù…Ø§Ø±Û•ÛŒ ØªÛ•Ù„Û•ÙÛ†Ù† *",category:"Ø¬Û†Ø± *",
    garage:"Ú¯Û•Ø±Ø§Ø¬",wholesale:"Ú©Û†Ù…Û•Úµ",retail:"ØªØ§Ùƒ",
    note:"ØªÛØ¨ÛŒÙ†ÛŒ",rate:"Ù‡Û•ÚµØ³Û•Ù†Ú¯Ø§Ù†Ø¯Ù† *",
    visit:"Ú†Û•Ù†Ø¯ Ú•Û†Ú˜ Ø¬Ø§Ø±ÛÚ© *",
    oilType:"Ø¬Û†Ø±ÛŒ Ú•Û†Ù†",oilGrade:"Ù¾Ù„Û•ÛŒ Ú•Û†Ù†",
    oilDistance:"Ù…Ø§ÙˆÛ•",oilPrice:"Ù†Ø±Ø®ÛŒ Ù„ÛŒØªØ±",send:"Ù†Ø§Ø±Ø¯Ù†"
  }
};

let lang=localStorage.lang||"ar";
applyLang();

function toggleLang(){
  lang=lang==="ar"?"ku":"ar";
  localStorage.lang=lang;
  applyLang();
}

function applyLang(){
  document.querySelectorAll("[data-t]").forEach(e=>{
    e.textContent=langData[lang][e.dataset.t];
  });
}

/* ===== login ===== */
if(localStorage.repName){
  login.classList.add("hidden");
  formBox.classList.remove("hidden");
  repShow.textContent=localStorage.repName;
  cityShow.textContent=localStorage.city;
}

function saveLogin(){
  if(!repName.value||!city.value)return;
  localStorage.repName=repName.value;
  localStorage.city=city.value;
  location.reload();
}

/* ===== send ===== */
function send(){
  const required=[useOil,tradeName,ownerName,address,phone,category,rate,visitDays];
  let ok=true;
  required.forEach(f=>{
    f.classList.remove("error");
    if(!f.value){f.classList.add("error");ok=false;}
  });
  if(!ok)return;

  msg.textContent=lang==="ar"?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...":"Ø¯Û•Ù†ÛØ±Ø¯Ø±ÛØª...";

  const data={
    repName:localStorage.repName,
    city:localStorage.city,
    tradeName:tradeName.value,
    ownerName:ownerName.value,
    address:address.value,
    phone:phone.value,
    category:category.value,
    note:note.value,
    rate:rate.value,
    visitDays:visitDays.value,
    useOil:useOil.value,
    oilType:oilType.value,
    oilGrade:oilGrade.value,
    oilDistance:oilDistance.value,
    oilPrice:oilPrice.value,
    lat:"",
    lng:""
  };

  fetch(URL,{
    method:"POST",
    body:JSON.stringify(data),
    headers:{"Content-Type":"application/json"}
  })
  .then(r=>r.json())
  .then(res=>{
    msg.textContent=res.status==="success"?"âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„":"âŒ "+res.message;
  })
  .catch(()=>msg.textContent="âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„");
}
</script>

</body>
</html>

